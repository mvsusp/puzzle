import{u as v,a as B,B as L,W as I,S as b,r as k,N as f,P as H,m as P,k as G}from"./AssetLoader-Bs61u6Ma.js";class R{constructor(){this.container=document.getElementById("container"),this.assetLoader=new v,this.init()}async init(){await this.assetLoader.loadGameSprites(),this.createAllBlockSprites()}createAllBlockSprites(){const c=this.assetLoader.getTexture("spritesheet");if(!c){console.error("Spritesheet not found!");return}const e=32,l=640,o=480,w={purple:{x:96,y:0},yellow:{x:0,y:0},red:{x:128,y:0},cyan:{x:64,y:0},green:{x:32,y:0}},y={normal:{y:0},landed:{y:128},exploding:{y:160}};for(const[d]of Object.entries(B).filter(([s])=>isNaN(Number(s))))for(const[s]of Object.entries(L).filter(([n])=>isNaN(Number(n)))){const n=w[d.toLowerCase()],p=y[s.toLowerCase()]?.y;if(n&&p!==void 0){const a=document.createElement("canvas");a.width=e,a.height=e;const i=new I({canvas:a,alpha:!0,antialias:!1,preserveDrawingBuffer:!0});i.setSize(e,e),i.setPixelRatio(1);const m=new b,h=new k(-e/2,e/2,e/2,-e/2,1,1e3);h.position.z=100;const t=c.clone();t.needsUpdate=!0,t.magFilter=f,t.minFilter=f;const S=n.x/l,E=(o-p-e)/o,x=e/l,N=e/o;t.repeat.set(x,N),t.offset.set(S,E);const g=new H(e,e),C=new P({map:t,transparent:!0}),T=new G(g,C);m.add(T),i.render(m,h);const r=document.createElement("div");r.className="sprite-container";const u=document.createElement("p");u.textContent=`${d} - ${s}`,r.appendChild(a),r.appendChild(u),this.container.appendChild(r)}}}}new R;
